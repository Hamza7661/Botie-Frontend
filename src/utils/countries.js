export const countries = [
  {
    name: 'United States',
    code: 'US',
    dial_code: '+1',
    flag: 'ðŸ‡ºðŸ‡¸',
    format: '(###) ###-####'
  },
  {
    name: 'Canada',
    code: 'CA',
    dial_code: '+1',
    flag: 'ðŸ‡¨ðŸ‡¦',
    format: '(###) ###-####'
  },
  {
    name: 'United Kingdom',
    code: 'GB',
    dial_code: '+44',
    flag: 'ðŸ‡¬ðŸ‡§',
    format: '#### ######'
  },
  {
    name: 'Australia',
    code: 'AU',
    dial_code: '+61',
    flag: 'ðŸ‡¦ðŸ‡º',
    format: '### ### ###'
  },
  {
    name: 'Germany',
    code: 'DE',
    dial_code: '+49',
    flag: 'ðŸ‡©ðŸ‡ª',
    format: '### #######'
  },
  {
    name: 'France',
    code: 'FR',
    dial_code: '+33',
    flag: 'ðŸ‡«ðŸ‡·',
    format: '# ## ## ## ##'
  },
  {
    name: 'India',
    code: 'IN',
    dial_code: '+91',
    flag: 'ðŸ‡®ðŸ‡³',
    format: '##### #####'
  },
  {
    name: 'Brazil',
    code: 'BR',
    dial_code: '+55',
    flag: 'ðŸ‡§ðŸ‡·',
    format: '(##) #####-####'
  },
  {
    name: 'Mexico',
    code: 'MX',
    dial_code: '+52',
    flag: 'ðŸ‡²ðŸ‡½',
    format: '### ### ####'
  },
  {
    name: 'Spain',
    code: 'ES',
    dial_code: '+34',
    flag: 'ðŸ‡ªðŸ‡¸',
    format: '### ### ###'
  },
  {
    name: 'Italy',
    code: 'IT',
    dial_code: '+39',
    flag: 'ðŸ‡®ðŸ‡¹',
    format: '### ### ####'
  },
  {
    name: 'Japan',
    code: 'JP',
    dial_code: '+81',
    flag: 'ðŸ‡¯ðŸ‡µ',
    format: '##-####-####'
  },
  {
    name: 'South Korea',
    code: 'KR',
    dial_code: '+82',
    flag: 'ðŸ‡°ðŸ‡·',
    format: '##-####-####'
  },
  {
    name: 'China',
    code: 'CN',
    dial_code: '+86',
    flag: 'ðŸ‡¨ðŸ‡³',
    format: '### #### ####'
  },
  {
    name: 'Russia',
    code: 'RU',
    dial_code: '+7',
    flag: 'ðŸ‡·ðŸ‡º',
    format: '(###) ###-##-##'
  },
  {
    name: 'South Africa',
    code: 'ZA',
    dial_code: '+27',
    flag: 'ðŸ‡¿ðŸ‡¦',
    format: '## ### ####'
  },
  {
    name: 'Nigeria',
    code: 'NG',
    dial_code: '+234',
    flag: 'ðŸ‡³ðŸ‡¬',
    format: '### ### ####'
  },
  {
    name: 'Egypt',
    code: 'EG',
    dial_code: '+20',
    flag: 'ðŸ‡ªðŸ‡¬',
    format: '## #### ####'
  },
  {
    name: 'Kenya',
    code: 'KE',
    dial_code: '+254',
    flag: 'ðŸ‡°ðŸ‡ª',
    format: '### ### ###'
  },
  {
    name: 'Ghana',
    code: 'GH',
    dial_code: '+233',
    flag: 'ðŸ‡¬ðŸ‡­',
    format: '## ### ####'
  },
  {
    name: 'Pakistan',
    code: 'PK',
    dial_code: '+92',
    flag: 'ðŸ‡µðŸ‡°',
    format: '### #######'
  },
  {
    name: 'Bangladesh',
    code: 'BD',
    dial_code: '+880',
    flag: 'ðŸ‡§ðŸ‡©',
    format: '## ### ###'
  },
  {
    name: 'Indonesia',
    code: 'ID',
    dial_code: '+62',
    flag: 'ðŸ‡®ðŸ‡©',
    format: '### ### ####'
  },
  {
    name: 'Malaysia',
    code: 'MY',
    dial_code: '+60',
    flag: 'ðŸ‡²ðŸ‡¾',
    format: '## ### ####'
  },
  {
    name: 'Thailand',
    code: 'TH',
    dial_code: '+66',
    flag: 'ðŸ‡¹ðŸ‡­',
    format: '## ### ####'
  },
  {
    name: 'Vietnam',
    code: 'VN',
    dial_code: '+84',
    flag: 'ðŸ‡»ðŸ‡³',
    format: '## #### ####'
  },
  {
    name: 'Philippines',
    code: 'PH',
    dial_code: '+63',
    flag: 'ðŸ‡µðŸ‡­',
    format: '### ### ####'
  },
  {
    name: 'Singapore',
    code: 'SG',
    dial_code: '+65',
    flag: 'ðŸ‡¸ðŸ‡¬',
    format: '#### ####'
  },
  {
    name: 'Turkey',
    code: 'TR',
    dial_code: '+90',
    flag: 'ðŸ‡¹ðŸ‡·',
    format: '### ### ####'
  },
  {
    name: 'Saudi Arabia',
    code: 'SA',
    dial_code: '+966',
    flag: 'ðŸ‡¸ðŸ‡¦',
    format: '## ### ####'
  },
  {
    name: 'UAE',
    code: 'AE',
    dial_code: '+971',
    flag: 'ðŸ‡¦ðŸ‡ª',
    format: '## ### ####'
  },
  {
    name: 'Israel',
    code: 'IL',
    dial_code: '+972',
    flag: 'ðŸ‡®ðŸ‡±',
    format: '## ### ####'
  },
  {
    name: 'Poland',
    code: 'PL',
    dial_code: '+48',
    flag: 'ðŸ‡µðŸ‡±',
    format: '### ### ###'
  },
  {
    name: 'Netherlands',
    code: 'NL',
    dial_code: '+31',
    flag: 'ðŸ‡³ðŸ‡±',
    format: '## ### ####'
  },
  {
    name: 'Belgium',
    code: 'BE',
    dial_code: '+32',
    flag: 'ðŸ‡§ðŸ‡ª',
    format: '### ### ###'
  },
  {
    name: 'Sweden',
    code: 'SE',
    dial_code: '+46',
    flag: 'ðŸ‡¸ðŸ‡ª',
    format: '## ### ####'
  },
  {
    name: 'Norway',
    code: 'NO',
    dial_code: '+47',
    flag: 'ðŸ‡³ðŸ‡´',
    format: '### ## ###'
  },
  {
    name: 'Denmark',
    code: 'DK',
    dial_code: '+45',
    flag: 'ðŸ‡©ðŸ‡°',
    format: '## ## ## ##'
  },
  {
    name: 'Finland',
    code: 'FI',
    dial_code: '+358',
    flag: 'ðŸ‡«ðŸ‡®',
    format: '## ### ####'
  },
  {
    name: 'Switzerland',
    code: 'CH',
    dial_code: '+41',
    flag: 'ðŸ‡¨ðŸ‡­',
    format: '## ### ####'
  },
  {
    name: 'Austria',
    code: 'AT',
    dial_code: '+43',
    flag: 'ðŸ‡¦ðŸ‡¹',
    format: '### ### ####'
  },
  {
    name: 'Ireland',
    code: 'IE',
    dial_code: '+353',
    flag: 'ðŸ‡®ðŸ‡ª',
    format: '## ### ####'
  },
  {
    name: 'New Zealand',
    code: 'NZ',
    dial_code: '+64',
    flag: 'ðŸ‡³ðŸ‡¿',
    format: '### ### ###'
  }
];

export const getCountryByCode = (code) => {
  return countries.find(country => country.code === code);
};

export const getCountryByDialCode = (dialCode) => {
  return countries.find(country => country.dial_code === dialCode);
};

export const formatPhoneNumber = (phoneNumber, country) => {
  if (!phoneNumber || !country) return phoneNumber;
  
  // Remove all non-digit characters
  const digits = phoneNumber.replace(/\D/g, '');
  
  // Remove country code from the beginning if present
  const countryCodeDigits = country.dial_code.replace(/\D/g, '');
  const localNumber = digits.startsWith(countryCodeDigits) 
    ? digits.slice(countryCodeDigits.length) 
    : digits;
  
  // Count how many digits the format expects
  const expectedDigits = (country.format.match(/#/g) || []).length;
  
  // Limit to the expected number of digits
  const limitedDigits = localNumber.slice(0, expectedDigits);
  
  // Apply formatting pattern
  const format = country.format;
  let formatted = '';
  let digitIndex = 0;
  
  for (let i = 0; i < format.length && digitIndex < limitedDigits.length; i++) {
    if (format[i] === '#') {
      formatted += limitedDigits[digitIndex];
      digitIndex++;
    } else {
      formatted += format[i];
    }
  }
  
  return formatted;
}; 